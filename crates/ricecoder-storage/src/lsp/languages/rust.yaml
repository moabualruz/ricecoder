language: rust
file_extensions:
  - rs
  - rs.in

parser_plugin: tree-sitter-rust

diagnostic_rules:
  - name: unused_imports
    pattern: "use.*;"
    severity: warning
    message: "Unused import"
    fix_template: "Remove import"

  - name: unused_variables
    pattern: "let\\s+\\w+\\s*="
    severity: warning
    message: "Unused variable"
    fix_template: "Prefix with underscore"

  - name: missing_docs
    pattern: "^\\s*(pub\\s+)?(fn|struct|enum|trait)"
    severity: hint
    message: "Missing documentation"
    fix_template: "Add doc comment"

code_actions:
  - name: add_doc_comment
    title: "Add documentation comment"
    kind: quickfix
    transformation: "Add /// comment above"

  - name: remove_unused_import
    title: "Remove unused import"
    kind: quickfix
    transformation: "Delete import line"

  - name: add_underscore_prefix
    title: "Prefix with underscore to suppress warning"
    kind: quickfix
    transformation: "Add _ prefix to variable name"
