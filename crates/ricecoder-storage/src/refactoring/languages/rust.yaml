language: rust
extensions:
  - .rs
parser_plugin: tree-sitter-rust

rules:
  - name: "unused_variable"
    pattern: "let \\s+\\w+\\s*=.*;"
    refactoring_type: "RemoveUnused"
    enabled: true
  - name: "unused_import"
    pattern: "use\\s+\\w+.*;"
    refactoring_type: "RemoveUnused"
    enabled: true
  - name: "dead_code"
    pattern: "#\\[allow\\(dead_code\\)\\]"
    refactoring_type: "RemoveUnused"
    enabled: true

transformations:
  - name: "rename_function"
    from_pattern: "fn old_name"
    to_pattern: "fn new_name"
    description: "Rename function from old_name to new_name"
  - name: "extract_method"
    from_pattern: "// Extract this block"
    to_pattern: "self.extracted_method()"
    description: "Extract code block into separate method"
  - name: "inline_function"
    from_pattern: "inline_me()"
    to_pattern: "// inlined code"
    description: "Inline function call"
